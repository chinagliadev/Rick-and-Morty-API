<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick and Morty API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>

<body class="bg-light">
    <header class="text-center mt-3 container">
        <nav class="navbar">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Rick and Morty API</a>

                <ul class="nav justify-content-end">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Listar Personagens</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="pesquisarPersonagem.html">Pesquisar Personagem</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <section class="container mt-5">
        <main id="pokemon-container" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-gap-4">
    
        </main>
    </section>

    <script>

        const container = document.getElementById('pokemon-container')

        function procurarPersonagem(userID){
            fetch("https://rickandmortyapi.com/api/character/"+userID)
            return fetch("https://rickandmortyapi.com/api/character/"+userID)
            .then(function (resposta){
                return resposta.json()
            })
          
        }

        async function carregarPersonagens(){
            for(let i = 1; i <= 30; i++){
                const personagemAtual = await procurarPersonagem(i)
                let nomePersonagem = personagemAtual.name
                let especiaPersonagem = personagemAtual.species
                let idPersonagem = personagemAtual.id
                let imagemPersonagem = personagemAtual.image
                console.log(nomePersonagem)

                // Criar coluna
                const coluna = document.createElement('div')
                coluna.className = 'col'

                coluna.innerHTML = `
                    <div class="card h-100 shadow-sm">
                        <div class="card-body text-center">
                            <img src="${imagemPersonagem}" alt="${nomePersonagem}" class="personagem-img mb-2 img-fluid rounded">
                            <h5 class="card-tile">${nomePersonagem}</h5>
                            <p class="card-text"><strong>Esp√©cie: </strong> ${especiaPersonagem}</p>
                        </div>
                        <div class="card-footer text-center"> 
                            <p class="card-text text-muted"><strong>Id #</strong>${idPersonagem}</p>
                        </div>
                    </div>
                `
                container.appendChild(coluna)
            }
        }

        carregarPersonagens()
        
    </script>
</body>

</html>